<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Halı Saha Takımı</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 20px;
    }

    h1 {
      margin-bottom: 10px;
    }

    .takimlar {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
    }

    .takim {
      flex: 1;
      background-color: #fff;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    .oyuncu {
      padding: 5px;
    }

    .oyuncu:nth-child(odd) {
      background-color: #e0e0e0;
    }

    .oyuncu:nth-child(even) {
      background-color: #ffffff;
    }

    input[type="text"] {
      padding: 8px;
      width: 250px;
      margin-right: 10px;
    }

    button {
      padding: 8px 16px;
      font-weight: bold;
      cursor: pointer;
    }

    .mevki-sec {
      margin-top: 40px;
      display: flex;
      gap: 40px;
    }

    .mevki-kutusu {
      flex: 1;
      background-color: #fff;
      padding: 10px;
      border-radius: 6px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }

    .mevki-satir {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
    }

    .mevki-satir:nth-child(odd) {
      background-color: #f1f1f1;
    }

    .mevki-satir:nth-child(even) {
      background-color: #ffffff;
    }

    .mevki-satir span {
      width: 150px;
      display: inline-block;
      padding: 4px 0;
    }

    .mevki-satir button {
      margin-right: 5px;
      padding: 4px 8px;
      border: 1px solid #888;
      border-radius: 4px;
      background-color: transparent;
    }

    .mevki-satir button.selected {
      background-color: #333;
      color: #fff;
    }

    .ilerle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #333;
      color: white;
      padding: 12px 20px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h1>Hoşgeldiniz</h1>

  <div class="takimlar">
    <div class="takim">
      <h3>Takım A</h3>
      <div id="takimA"></div>
    </div>
    <div class="takim">
      <h3>Takım B</h3>
      <div id="takimB"></div>
    </div>
  </div>

  <input type="text" id="oyuncuInput" placeholder="Oyuncu adı yazın (örnek: Ali)" />
  <button onclick="oyuncuEkle()">Kişi Ekle</button>

  <div class="mevki-sec">
    <div class="mevki-kutusu">
      <h3>Mevki Seç - Takım A</h3>
      <div id="mevkiA"></div>
    </div>
    <div class="mevki-kutusu">
      <h3>Mevki Seç - Takım B</h3>
      <div id="mevkiB"></div>
    </div>
  </div>

  <div class="ilerle" onclick="window.location.href='saha-saat.html'">İlerle</div>

  <script>
    let oyuncular = [];
    let sayac = 1;

    const input = document.getElementById("oyuncuInput");

    input.addEventListener("keydown", function (e) {
      if (e.key === "Enter") {
        const deger = input.value.trim();
        if (deger.startsWith("-")) {
          const silIndex = parseInt(deger.slice(1)) - 1;
          if (!isNaN(silIndex) && silIndex >= 0 && silIndex < oyuncular.length) {
            oyuncular.splice(silIndex, 1);
            guncelle();
          }
        } else {
          oyuncuEkle();
        }
      }
    });

    function oyuncuEkle() {
      const ad = input.value.trim();
      if (ad === "") return;
      oyuncular.push({ id: sayac, ad: ad, mevki: "" });
      sayac++;
      input.value = "";
      guncelle();
    }

    function guncelle() {
      const takimA = document.getElementById("takimA");
      const takimB = document.getElementById("takimB");
      const mevkiA = document.getElementById("mevkiA");
      const mevkiB = document.getElementById("mevkiB");

      takimA.innerHTML = "";
      takimB.innerHTML = "";
      mevkiA.innerHTML = "";
      mevkiB.innerHTML = "";

      oyuncular.forEach((oyuncu, index) => {
        const div = document.createElement("div");
        div.className = "oyuncu";
        div.textContent = `${oyuncu.id}. ${oyuncu.ad}`;
        if (index % 2 === 0) {
          takimA.appendChild(div);
        } else {
          takimB.appendChild(div);
        }

        const satir = document.createElement("div");
        satir.className = "mevki-satir";

        const span = document.createElement("span");
        span.textContent = `${oyuncu.id}. ${oyuncu.ad}`;
        satir.appendChild(span);

        ["K", "D", "O", "F"].forEach((harf) => {
          const btn = document.createElement("button");
          btn.textContent = harf;
          if (oyuncu.mevki === harf) {
            btn.classList.add("selected");
          }
          btn.onclick = () => {
            oyuncu.mevki = harf;
            guncelle();
          };
          satir.appendChild(btn);
        });

        if (index % 2 === 0) {
          mevkiA.appendChild(satir);
        } else {
          mevkiB.appendChild(satir);
        }
      });

      localStorage.setItem("oyuncularMevki", JSON.stringify(oyuncular));
    }

    window.onload = function () {
      const veri = localStorage.getItem("oyuncularMevki");
      if (veri) {
        oyuncular = JSON.parse(veri);
        sayac = oyuncular.length + 1;
        guncelle();
      }
    };
  </script>
</body>
</html>
